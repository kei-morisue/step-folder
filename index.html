<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DEFOX</title>
    <link rel="icon" href="./icon-512x512.png">
    <link rel="stylesheet" href="./css/fonts.css?1.2.0">
    <link rel="stylesheet" href="./css/style.css?1.2.0">
    <link rel="stylesheet" href="./css/style_editor.css?v=1.2.0">
    <link rel="stylesheet" href="./css/style_axanael.css?v=1.2.0">
    <link rel="stylesheet" href="./css/style_1200.css?v=1.2.0">
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>

<body style="background:darkgray">
    <div class="openclose">
        <span>
            <img src="./icon-512x512.png" alt="DEFOX_icon" style="width: 15px;">
            <b>DEFOX&nbsp;&nbsp;</b>
            <button id="new">New Project</button>
            <button id="save_proj">Save Project</button>
            <input type="text" id="proj_name" value="NewProject">
            <button id="import_proj">Import Project</button>
            <button id="import0">Insert Steps</button>
            <button id="remove">Remove Step</button>
            <button id="duplicate">Duplicate Step</button>
            <button id="export">Export Step</button>
            <select id="export_ext">
                <option value="cp">.cp</option>
                <option value="svg">.svg</option>
                <option value="png">.png</option>
            </select>
            <input type="checkbox" id="crease_interp" checked>
            <label for="crease_interp">Crease Interpolation</label>
        </span>
    </div>
    <dialog id="cpeditor" class="cpeditor"></dialog>

    <dialog id="axanael" class="axanael"></dialog>

    <span class="step_preview">
        <div>
            <b>Steps</b>
            <button id="prev">Prev</button>
            <b id="step">1</b>
            <b>/ </b>
            <b id="steps">1</b>
            <button id="next">Next</button>
        </div>
        <div>
            <input id="range_steps" type="range" min="1" max="2" value="2">
        </div>
    </span>

    <div class="mainpanel">
        <div id="states" class="panels">
            <svg id="state3" class="paint"></svg>
            <svg id="state0" class="paint"></svg>
            <svg id="cp3" class="paint" style="display: none;"></svg>
        </div>
        <div class="control_panels">
            <div id="edit" class="editpanel">
                <span id="edit_render_b" class="openclose"><b>Render</b></span>
                <span id="edit_render">
                    <p>
                        <button id="cp_layers">Show CP/ Show Dia</button>
                        <button id="flip">Flip</button>
                        <button id="render_reset">Reset</button>
                        <button id="infer_prev">Infer(Prev)</button>
                        <button id="infer_next">Infer(Next)</button>
                        <button id="opencpeditor" class="opendialog">&#xe029;</button>
                    </p>
                    <p>
                        <label for="rotate">Angle</label>
                        <input id="rotate" type="range" max="1" min="0" value="0.5" step="0.0833333333">
                        <button id="rotate_reset">Reset</button>
                    </p>
                    <p>
                        <label for="clip">Clip</label>
                        <input id="clip" type="range" max="1" min="0" value="0.0" step="0.001">
                        <button id="clip_reset">Reset</button>
                    </p>
                    <p>
                        <label for="depth">Depth</label>
                        <input id="depth" type="range" max="1" min="0" value="0" step="1">
                        <button id="depth_reset">Reset</button>
                    </p>
                </span>
                <span id="edit_dist_b" class="openclose"><b>Distortion</b></span>
                <span id="edit_dist" style="display: inline;">
                    <p>
                        <label for="p0">Level</label>
                        <input type="range" id="p0" min="0" max="1" value="0.0" step="0.0001">
                        <button id="p0_reset">Reset</button>
                    </p>
                    <p>
                        <label for="p2">Skew</label>
                        <input type="range" id="p2" min="0" max="1" value="0.0" step="0.0001">
                        <button id="p2_reset">Reset</button>
                    </p>
                    <p>
                        <label for="p1">Angle</label>
                        <input type="range" id="p1" min="0" max="1" value="0.5" step="0.0001">
                        <button id="p1_reset">Reset</button>
                    </p>
                </span>
                <span id="option_layers_b" class="openclose"><b>Manual Layer Control</b></span>
                <span id="option_layers">
                    <label for="selectG">Group</label>
                    <select id="selectG"></select>
                    <label for="assign">state</label>
                    <input type="number" id="assign" min="1" max="1" value="1">
                    <a id="assigns">/ 1</a>
                    <p>
                        <label for="cb_T0">taco-taco</label>
                        <input type="checkbox" id="cb_T0" checked="true">
                        <label for="cb_T1">taco-tortilla</label>
                        <input type="checkbox" id="cb_T1" checked="true">
                    </p>
                    <p>
                        <label for="cb_T2">tortilla-tortilla</label>
                        <input type="checkbox" id="cb_T2" checked="true">
                        <label for="cb_T3">transitivity</label>
                        <input type="checkbox" id="cb_T3" checked="true">
                        <button id="apply_tt">Apply</button>
                        <button id="reset_tt">Reset</button>
                    </p>
                </span>
                <span id="edit_symbol_b" class="openclose"><b>Add Symbols</b></span>
                <span id="edit_symbol">
                    <p class="tool_buttons">
                        <button id="axanael_open">&#xe029;</button>
                    </p>
                </span>
            </div>
            <div id="preview" class="preview">
                <div id="option">
                    <span id="option_color_b" class="openclose"><b>Color Options</b></span>
                    <span id="option_color" style="display: none;">
                        <label for="topcolor">Top Color</label>
                        <input type="color" id="topcolor" value="#8F8F8F">
                        <label for="bottomcolor">Bottom Color</label>
                        <input type="color" id="bottomcolor" value="#FFFFFF">
                        <label for="bottomcolor">BG Color</label>
                        <input type="color" id="bgcolor" value="#00FF00">
                    </span>
                    <span id="option_width_b" class="openclose"><b>Segment Options</b></span>
                    <span id="option_width" style="display: none;">
                        <p>
                            <label for="width_crease">Crease Width</label>
                            <input id="width_crease" type="number" max="10" min="1" value="1">
                            <button id="width_crease_reset">Reset</button>
                        </p>
                        <p>
                            <label for="width_boundary">Boundary Width</label>
                            <input id="width_boundary" type="number" max="10" min="1" value="3">
                            <button id="width_boundary_reset">Reset</button>
                        </p>
                        <p>
                            <label for="width_MMVV">MV Crease Width</label>
                            <input id="width_MMVV" type="number" max="10" min="1" value="6">
                            <button id="width_MMVV_reset">Reset</button>
                        </p>
                    </span>
                    <span id="option_text_b" class="openclose"><b>Text Options</b></span>
                    <span id="option_text" style="display: none;">
                        <p>
                            <label for="size_text">Text Size</label>
                            <input id="size_text" type="number" max="500" min="20" value="100" step="1">
                            <button id="size_text_reset">Reset</button>
                            <label for="loc_text">Locatoion</label>
                            <select id="loc_text">
                                <option value="Top">Top</option>
                                <option value="Bottom">Bottom</option>
                            </select>
                        </p>
                    </span>
                    <span id="option_layout_b" class="openclose"><b>Layout Options</b></span>
                    <span id="option_layout">
                        <p>
                            <label>Rows x Cols</label>
                            <input id="dim_r" type="number" max="10" min="1" value="4" step="1">
                            <button id="dim_r_reset">Reset</button>
                            <input id="dim_c" type="number" max="10" min="1" value="3" step="1">
                            <button id="dim_c_reset">Reset</button>
                        </p>
                        <p>
                            <label for="dim_b">Blanks</label>
                            <input id="dim_b" type="number" max="10" min="0" value="1" step="1">
                            <button id="dim_b_reset">Reset</button>
                        </p>
                    </span>
                    <span id="option_dim_b" class="openclose"><b>Dimension Options</b></span>
                    <span id="option_dim" style="display: none;">
                        <p>
                            <label>Width x Height (px)</label>
                            <input id="dim_w" type="number" max="100000" min="100" value="2894" step="1">
                            <button id="dim_w_reset">Reset</button>
                            <input id="dim_h" type="number" max="200000" min="200" value="4093" step="1">
                            <button id="dim_h_reset">Reset</button>
                        </p>
                        <p>
                            <label>Margin (px)</label>
                            <input id="dim_x" type="number" max="1000" min="0" value="50" step="1">
                            <button id="dim_x_reset">Reset</button>
                            <input id="dim_y" type="number" max="1000" min="0" value="80" step="1">
                            <button id="dim_y_reset">Reset</button>
                        </p>
                        <p>
                            <label>Steps Margin (%)</label>
                            <input id="step_x" type="number" max="50" min="0" value="20" step="5">
                            <button id="step_x_reset">Reset</button>
                        </p>
                    </span>
                </div>

                <div>
                    <button id="page_reload">Reload</button>
                    <button id="page_prev">Prev</button>
                    <b id="page_idx">1</b>
                    <b>/ </b>
                    <b id="pages">1</b>
                    <button id="page_next">Next</button>
                    <button id="page_export">Export</button>
                    <select id="page_export_ext">
                        <option value="png">.png</option>
                        <option value="svg">.svg</option>
                        <option value="cp">.cp</option>
                    </select>
                </div>
                <div>
                    <svg id="page" class="page">
                        <svg id="page_body">
                        </svg>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <svg id="defs"></svg>
    <b>Â© Kei Morisue 2024, 2026</b>
    <p>
        <a href="https://github.com/kei-morisue/step-folder">Repository</a>
    </p>
    <p>
        <a
            href="https://github.com/kei-morisue/step-folder/blob/082abe77fdcd4178888780c07f0a26a9bc11df9c/Affine_Distortions.pdf">Distortion
            Logic Paper</a>
    </p>
    <script type="module" src="./src/main.js?v1.0.0"></script>
</body>

</html>